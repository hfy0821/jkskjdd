(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d240cbc"],{"35a8":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"task_warp"},[a("div",{staticClass:"tabClass",class:t.edit?"":"unclick"},[a("Nav",{attrs:{tabs:t.tabs,tabIndex:t.tabIndex},on:{changeIndex:t.changeIndex}})],1),1==t.tabIndex?a("div",[a("div",{staticClass:"cluesMsg"},[t._m(0),a("div",{staticClass:"riskLevel"},[a("span",[t._v(t._s(t.formData.controlLevel))])])]),a("div",{staticClass:"analyseClass"},[t._m(1),a("div",{staticClass:"form",class:t.edit?"":"unclick"},[a("div",{staticClass:"item"},[a("p",{class:t.formData.controlProject?"active":""},[t._v("管控计划")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.controlProject,expression:"formData.controlProject",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入管控计划",readonly:t.disabled},domProps:{value:t.formData.controlProject},on:{input:function(a){a.target.composing||t.$set(t.formData,"controlProject",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])])]),1==t.status||2==t.status?a("div",{staticClass:"feedbackClass"},[t._m(2),a("div",{staticClass:"form",class:t.edit?"":"unclick"},[a("div",{staticClass:"item"},[a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.feedback,expression:"feedback",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入管控反馈内容",rows:"6"},domProps:{value:t.feedback},on:{input:function(a){a.target.composing||(t.feedback=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}}),t._v(" "),a("span",{staticClass:"feedbackHistory",on:{click:function(a){return t.feedbackHistory()}}},[t._v("反馈历史")])])])]):t._e(),3==t.status||4==t.status?a("div",{staticClass:"feedbackClass"},[t._m(3),a("div",{staticClass:"form",class:t.edit?"":"unclick"},[a("div",{staticClass:"item"},[a("ul",{staticClass:"listClass"},t._l(t.listData,(function(e,s){return a("li",{key:s,staticClass:"listClass_li"},[a("div",{staticClass:"li_content"},[a("div",{staticClass:"li_content_content"},[t._v(t._s(e.content))]),a("div",{staticClass:"li_content_time"},[t._v(" 反馈时间   "+t._s(e.createTime)+" ")]),a("div",{staticClass:"li_content_department"},[t._v(" 处置单位   "+t._s(e.handleDepart)+" ")])])])})),0)])])]):t._e()]):t._e(),2==t.tabIndex?a("div",[a("div",{staticClass:"analyseClass"},[t._m(4),a("div",{staticClass:"form",class:t.edit?"":"unclick"},[a("div",{staticClass:"item"},[a("p",{class:t.personData.name?"active":""},[t._v("事件人物")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.name,expression:"personData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入人物姓名",readonly:t.disabled},domProps:{value:t.personData.name},on:{input:function(a){a.target.composing||t.$set(t.personData,"name",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"item"},[a("p",{class:t.personData.sex?"active":""},[t._v(" 性       别 ")]),a("input",{attrs:{type:"text",readonly:"",placeholder:"性别选择"},domProps:{value:1==t.personData.sex?"男":2==t.personData.sex?"女":""}})]),a("div",{staticClass:"item"},[a("p",{class:t.personData.phone?"active":""},[t._v("手机号码")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.phone,expression:"personData.phone",modifiers:{trim:!0}}],attrs:{type:"number",readonly:t.disabled,placeholder:"在此输入手机号码"},domProps:{value:t.personData.phone},on:{input:function(a){a.target.composing||t.$set(t.personData,"phone",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"item"},[a("p",{class:t.personData.birthday?"active":""},[t._v("出生日期")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.birthday,expression:"personData.birthday",modifiers:{trim:!0}}],attrs:{type:"text",readonly:t.disabled,placeholder:"在此输入出生日期"},domProps:{value:t.personData.birthday},on:{input:function(a){a.target.composing||t.$set(t.personData,"birthday",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"item"},[a("p",{class:t.personData.cardId?"active":""},[t._v("身份证号")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.cardId,expression:"personData.cardId",modifiers:{trim:!0}}],attrs:{type:"text",readonly:t.disabled,placeholder:"在此输入身份证号"},domProps:{value:t.personData.cardId},on:{input:function(a){a.target.composing||t.$set(t.personData,"cardId",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"item"},[a("p",{class:t.personData.roadName?"active":""},[t._v("所属镇街")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.roadName,expression:"personData.roadName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请选择",readonly:t.disabled},domProps:{value:t.personData.roadName},on:{input:function(a){a.target.composing||t.$set(t.personData,"roadName",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"item"},[a("p",{class:t.personData.address?"active":""},[t._v("家庭地址")]),a("div",{staticClass:"relativeC"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.address,expression:"personData.address",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"点击输入地址，也可地图进行定位",readonly:t.disabled},domProps:{value:t.personData.address},on:{input:function(a){a.target.composing||t.$set(t.personData,"address",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])]),a("div",{staticClass:"item"},[a("p",{class:0==t.personData.emphasesStatus||1==t.personData.emphasesStatus?"active":""},[t._v(" 重点人员 ")]),a("input",{attrs:{type:"text",placeholder:"请选择",readonly:t.disabled},domProps:{value:0==t.personData.emphasesStatus?"不是":1==t.personData.emphasesStatus?"是":""}})]),1==t.personData.emphasesStatus?a("div",{staticClass:"item"},[a("p",{class:t.personData.emphasesType?"active":""},[t._v("人员类型")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.emphasesType,expression:"personData.emphasesType",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入",readonly:t.disabled},domProps:{value:t.personData.emphasesType},on:{input:function(a){a.target.composing||t.$set(t.personData,"emphasesType",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]):t._e(),a("div",{staticClass:"item"},[a("p",{class:t.personData.controlCount?"active":""},[t._v("管控历史")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.personData.controlCount,expression:"personData.controlCount",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入",readonly:t.disabled},domProps:{value:t.personData.controlCount},on:{input:function(a){a.target.composing||t.$set(t.personData,"controlCount",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])])]),a("div",{staticClass:"analyseClass"},[t._m(5),a("div",{staticClass:"form",class:t.edit?"":"unclick"},[a("div",{staticClass:"item",staticStyle:{"border-bottom":"0px"}},t._l(t.personData.characterLabels,(function(e,s){return a("div",{key:s,staticClass:"item_tags"},[a("span",[t._v(t._s(e))])])})),0)])])]):t._e(),1==t.missionStatus||2==t.missionStatus||3==t.missionStatus||4==t.missionStatus?a("div",[3==t.tabIndex?a("div",[a("div",{staticClass:"analyseClass"},[t._m(6),a("div",{staticClass:"form",class:t.edit?"":"unclick"},[a("ul",{staticClass:"listClass_ul"},t._l(t.auditData,(function(e,s){return a("li",{key:s,staticClass:"listClass_li"},[a("div",{staticClass:"li_content"},[a("div",{staticClass:"li_content_applyTime"},[t._v(" 申请时间 "),a("span",[t._v(t._s(e.createTime))])]),a("div",{staticClass:"li_content_auditTime"},[t._v(" 审核时间 "),a("span",[t._v(t._s(e.updateTime))])]),a("div",{staticClass:"li_content_result"},[t._v(" 审核结果 "),a("span",[t._v(t._s(e.verifyResult))])]),a("div",{staticClass:"li_content_description"},[t._v(" 描述        "),a("span",[t._v(t._s(e.content))])])])])})),0)])])]):t._e()]):t._e(),4!==t.missionStatus?a("div",{staticClass:"btn"},[1==t.status||2==t.status?a("span",{staticClass:"btn_span",on:{click:function(a){return t.endFn()}}},[t._v("结束管控")]):t._e(),1==t.status||2==t.status?a("span",{on:{click:function(a){return t.feedbackFn(t.missionStatus)}}},[t._v("管控反馈")]):t._e(),3==t.status?a("span",{staticClass:"btn_span",on:{click:function(a){return t.reviewFn()}}},[t._v("审核中")]):t._e()]):t._e()])},n=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"header_icon"},[a("span",[t._v("风险等级")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"header_icon"},[a("span",[t._v("管控工作")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"header_icon"},[a("span",[t._v("管控反馈")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"header_icon"},[a("span",[t._v("管控反馈")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"header_icon"},[a("span",[t._v("人物信息")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"header_icon"},[a("span",[t._v("性格标签")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"header_icon"},[a("span",[t._v("审核信息")])])}],i=(e("14d9"),e("c198")),r=e("9fdc"),o={components:{Nav:r["a"]},data(){return{disabled:!0,edit:!0,tabs:[{name:"管控信息"},{name:"人员信息"}],tabIndex:localStorage.getItem("taskDetailTabIndex")/1||1,formData:{controlLevel:"",controlProject:""},feedback:"",personData:{name:"",sex:"",phone:"",birthday:"",cardId:"",roadName:"",address:"",emphasesStatus:"",emphasesType:"",controlCount:"",characterLabels:[]},auditData:[],roadData1:[],listData:[],missionStatus:"",detailId:"",status:""}},async created(){const t=this;let a=this.$store.state;t.roadData1=a.roadData1,t.getData(),t.getPeopleData(),t.getVerifyData(),t.$forceUpdate()},computed:{},methods:{async getData(){const t=this;let a=t.$route.query;t.missionStatus=a.missionStatus,t.detailId=a.id,1!=t.missionStatus&&2!=t.missionStatus&&3!=t.missionStatus&&4!=t.missionStatus||(t.tabs=t.tabs.concat([{name:"审核信息"}]));const e=await Object(i["L"])({...t.params,id:a.id});if(e.success){const a=e.data;t.formData.controlLevel=a.controlLevel,t.formData.controlProject=a.controlProject,t.listData=a.handlePageList,t.status=a.missionStatus}},async getPeopleData(){const t=this;let a=t.$route.query;const e=await Object(i["M"])({id:a.peopleId});if(e.success){const a=e.data;t.personData.name=a.name,t.personData.sex=a.sex,t.personData.phone=a.phone,t.personData.birthday=a.birthday,t.personData.cardId=a.cardId,t.personData.roadName=a.roadName,t.personData.emphasesStatus=a.emphasesStatus,t.personData.emphasesType=a.emphasesType,t.personData.characterLabels=a.characterLabelNameList,t.personData.roadName=a.roadName,t.personData.controlCount=a.controlCount,t.personData.address=a.address}},async getVerifyData(){const t=this;let a=t.$route.query;const e=await Object(i["Eb"])({id:a.id});e.success&&(t.auditData=e.data)},roadFn(){const t=this;dd.showSelect({source:t.roadData1}).then(a=>{t.personData.roadId=a.value,t.personData.roadName=a.key}).catch(t=>{})},addressFn(){const t=this;dd.locateOnMap({}).then(a=>{let e=a.province+a.city+a.adName+a.title;t.personData.address=e}).catch(t=>{})},validateFn(){const t=this;return!!t.feedback||(t.alert("请输入管控反馈内容"),!1)},alert(t){dd.alert({message:t,title:"提示",button:"收到"}).then(t=>{}).catch(t=>{})},changeIndex(t){const a=this;a.tabIndex=t,localStorage.setItem("taskDetailTabIndex",t),a.$forceUpdate()},endFn(){const t=this;dd.confirm({title:"温馨提示",message:"确定结束管控？",buttonLabels:["取消","确定"]}).then(async a=>{if(1==a.buttonIndex){const a=await Object(i["z"])({id:t.detailId});a.success&&t.$router.go(-1)}}).catch(t=>{})},feedbackFn(t){const a=this;let e=a.$route.query;t=e.missionStatus;let s=a.validateFn();s&&(1==t?dd.confirm({title:"温馨提示",message:"确定提交管控反馈？",buttonLabels:["取消","确定"]}).then(async t=>{if(1==t.buttonIndex){const t=await Object(i["Ub"])({content:a.feedback,missionId:e.id});t.success&&dd.toast({icon:"success",text:"操作成功"}).then(t=>{a.$router.go(-1)}).catch(t=>{})}}).catch(t=>{}):2==t&&dd.confirm({title:"温馨提示",message:"确定提交管控反馈？",buttonLabels:["取消","确定"]}).then(async t=>{if(1==t.buttonIndex){const t=await Object(i["Ub"])({content:a.feedback,missionId:e.id});t.success&&(dd.toast({icon:"success",text:"操作成功"}).then(t=>{a.$router.go(-1)}).catch(t=>{}),a.feedback="")}}).catch(t=>{}))},feedbackHistory(){const t=this;let a=t.$route.query;t.$router.push({path:"/zhezheng/controlTask/feedbackHistory",query:{id:a.id}})}}},c=o,d=(e("e2e2"),e("2877")),l=Object(d["a"])(c,s,n,!1,null,"2a8d7fdc",null);a["default"]=l.exports},"9fdc":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"tab_warp"},t._l(t.tabs,(function(e,s){return a("span",{directives:[{name:"show",rawName:"v-show",value:!e.hide,expression:"!v.hide"}],key:s,class:t.index===s+1?"active":"",on:{click:function(a){return t.checkTab(s)}}},[t._v(t._s(e.name))])})),0)},n=[],i={props:["tabs","tabIndex"],data(){return{index:this.tabIndex}},mounted(){},methods:{checkTab(t){this.index!==t+1&&(this.index=t+1,this.$emit("changeIndex",this.index))}}},r=i,o=(e("e9e9"),e("2877")),c=Object(o["a"])(r,s,n,!1,null,"d765f7f0",null);a["a"]=c.exports},e2e2:function(t,a,e){"use strict";e("e69a")},e4d4:function(t,a,e){},e69a:function(t,a,e){},e9e9:function(t,a,e){"use strict";e("e4d4")}}]);