(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30355eb8"],{8642:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"reportedAdd_warp"},[t("div",{staticClass:"source"},[t("span",[e._v("来源：")]),t("i",[e._v(e._s(e.sourceType))])]),t("div",{staticClass:"form",class:e.edit?"":"unclick"},["2"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.title?"active":""},[e._v("标题")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.title,expression:"formData.title",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入标题"},domProps:{value:e.formData.title},on:{input:function(t){t.target.composing||e.$set(e.formData,"title",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),"3"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.title?"active":""},[e._v("舆情名称")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.title,expression:"formData.title",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入舆情名称"},domProps:{value:e.formData.title},on:{input:function(t){t.target.composing||e.$set(e.formData,"title",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),"2"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.name?"active":""},[e._v("姓名")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.name,expression:"formData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入姓名"},domProps:{value:e.formData.name},on:{input:function(t){t.target.composing||e.$set(e.formData,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),"2"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.sex?"active":""},[e._v("性别")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.sex,expression:"formData.sex",modifiers:{trim:!0}}],attrs:{type:"text",readonly:"",placeholder:"点击选择性别"},domProps:{value:e.formData.sex},on:{click:e.selectSex,input:function(t){t.target.composing||e.$set(e.formData,"sex",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),"0"===e.type||"1"===e.type||"4"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.eventName?"active":""},[e._v("事件名称")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.eventName,expression:"formData.eventName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入事件名称"},domProps:{value:e.formData.eventName},on:{input:function(t){t.target.composing||e.$set(e.formData,"eventName",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),"0"===e.type||"1"===e.type||"3"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.typeSelectOption.length?"active":""},[e._v("事件类别")]),t("div",[t("input",{attrs:{readonly:"",type:"text",placeholder:"点击选择事件类别"},domProps:{value:e.typeSelectOption.join(",")},on:{click:e.selectEventType}})])]):e._e(),t("div",{staticClass:"item"},[t("p",{class:e.formData.behave?"active":""},[e._v("现实行为")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.behave,expression:"formData.behave"}],attrs:{readonly:"",type:"text",placeholder:"点击选择现实行为"},domProps:{value:e.formData.behave},on:{click:e.selectBehave,input:function(t){t.target.composing||e.$set(e.formData,"behave",t.target.value)}}})])]),"3"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.seetSource?"active":""},[e._v("舆情来源")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.seetSource,expression:"formData.seetSource",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入舆情来源"},domProps:{value:e.formData.seetSource},on:{input:function(t){t.target.composing||e.$set(e.formData,"seetSource",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),"0"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.street?"active":""},[e._v("所属街道")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.street,expression:"formData.street"}],attrs:{readonly:"",type:"text",placeholder:"点击选择所属街道"},domProps:{value:e.formData.street},on:{click:e.selectStreet,input:function(t){t.target.composing||e.$set(e.formData,"street",t.target.value)}}})])]):e._e(),"0"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.incidentAddress?"active":""},[e._v("所属地点")]),t("div",{staticClass:"address"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.incidentAddress,expression:"formData.incidentAddress"}],attrs:{type:"text",placeholder:"点击选择所属地点"},domProps:{value:e.formData.incidentAddress},on:{input:function(t){t.target.composing||e.$set(e.formData,"incidentAddress",t.target.value)}}}),t("i",{staticClass:"iconfont icon-location",on:{click:e.selectAddress}})])]):e._e(),"0"===e.type||"1"===e.type||"3"===e.type||"4"===e.type?t("div",{staticClass:"item incidentContent"},[t("p",{class:e.formData.incidentContent?"active":""},[e._v("事件描述")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.incidentContent,expression:"formData.incidentContent",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入事件描述"},domProps:{value:e.formData.incidentContent},on:{input:function(t){t.target.composing||e.$set(e.formData,"incidentContent",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]):e._e(),"2"===e.type?t("div",{staticClass:"item incidentContent"},[t("p",{class:e.formData.intro?"active":""},[e._v("简介")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.intro,expression:"formData.intro",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入简介"},domProps:{value:e.formData.intro},on:{input:function(t){t.target.composing||e.$set(e.formData,"intro",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]):e._e(),"0"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.incidentTime?"active":""},[e._v("事发时间")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.incidentTime,expression:"formData.incidentTime"}],attrs:{readonly:"",type:"text",placeholder:"事发时间"},domProps:{value:e.formData.incidentTime},on:{click:e.selectTime,input:function(t){t.target.composing||e.$set(e.formData,"incidentTime",t.target.value)}}})])]):e._e(),"4"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.incidentTime?"active":""},[e._v("上报时间")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.incidentTime,expression:"formData.incidentTime"}],attrs:{readonly:"",type:"text",placeholder:"上报时间"},domProps:{value:e.formData.incidentTime},on:{click:e.selectTime,input:function(t){t.target.composing||e.$set(e.formData,"incidentTime",t.target.value)}}})])]):e._e(),"4"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.earlyWarningName?"active":""},[e._v("上报人")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.earlyWarningName,expression:"formData.earlyWarningName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入上报人"},domProps:{value:e.formData.earlyWarningName},on:{input:function(t){t.target.composing||e.$set(e.formData,"earlyWarningName",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]):e._e(),"0"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.joinNum?"active":""},[e._v("涉及人数")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.formData.joinNum,expression:"formData.joinNum",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"涉及人数"},domProps:{value:e.formData.joinNum},on:{input:function(t){t.target.composing||e.$set(e.formData,"joinNum",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]):e._e(),"3"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.link?"active":""},[e._v("网络连接")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.link,expression:"formData.link",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入网络连接"},domProps:{value:e.formData.link},on:{input:function(t){t.target.composing||e.$set(e.formData,"link",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]):e._e(),"3"===e.type?t("div",{staticClass:"item"},[t("p",{class:e.formData.involveWeb?"active":""},[e._v("涉及网站")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.involveWeb,expression:"formData.involveWeb",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入涉及网站"},domProps:{value:e.formData.involveWeb},on:{input:function(t){t.target.composing||e.$set(e.formData,"involveWeb",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]):e._e()]),t("div",{staticClass:"endHolder"}),t("div",{staticClass:"btn"},[e.id?e._e():t("span",{on:{click:function(t){return e.handClick(1)}}},[e._v("上报")]),t("i",{directives:[{name:"show",rawName:"v-show",value:!e.edit&&e.id,expression:"!edit&&id"}],on:{click:function(t){return e.del()}}},[e._v("删除")]),t("b",{directives:[{name:"show",rawName:"v-show",value:!e.edit&&e.id,expression:"!edit&&id"}],on:{click:function(t){e.edit=!0}}},[e._v("编辑")]),t("i",{directives:[{name:"show",rawName:"v-show",value:e.edit&&e.id,expression:"edit&&id"}],on:{click:e.cancel}},[e._v("取消")]),t("b",{directives:[{name:"show",rawName:"v-show",value:e.edit&&e.id,expression:"edit&&id"}],on:{click:e.save}},[e._v("保存")])])])},o=[],n={name:"reportedAdd",data(){return{sourceType:"",type:this.$route.query.type||"1",id:this.$route.query.id,index:[],edit:!0,formData:{title:"",name:"",eventName:"",eventType:"",behave:"",behaveId:"",street:"",streetId:"",incidentAddress:"",incidentContent:"",intro:"",sex:"",incidentTime:"",joinNum:"",seetSource:"",link:"",involveWeb:"",earlyWarningName:""},typeOption:["劳资纠纷","非正常死亡","涉众型经济","住房纠纷","医疗纠纷","城中村改造","执法纠纷","学区划分","校园安全","公共安全","国家安全","其他","村（社区）规模优化调整"],typeSelectOption:[],behaveOption:["集体上访","拦路","聚集","其他"],streetOption:["SB街道","XX街道","123","其他"]}},created(){this.id&&(document.title="事件详情",this.edit=!1),this.sourceType=["维稳信息员","110报警","综合帮扶","舆情","公安警情"][this.type]},methods:{selectEventType(){const e=this;dd.biz.util.multiSelect({options:e.typeOption,selectOption:e.typeSelectOption,onSuccess:function(t){e.typeSelectOption=t.map(t=>e.typeOption[t])},onFail:function(){}})},selectBehave(){const e=this;dd.device.notification.actionSheet({title:"选择现实行为？",cancelButton:"取消",otherButtons:e.behaveOption,onSuccess:function(t){-1!==t.buttonIndex&&(e.formData.behave=e.behaveOption[t.buttonIndex])},onFail:function(e){}})},selectStreet(){const e=this;dd.device.notification.actionSheet({title:"选择所属街道？",cancelButton:"取消",otherButtons:e.streetOption,onSuccess:function(t){-1!==t.buttonIndex&&(e.formData.street=e.streetOption[t.buttonIndex])},onFail:function(e){}})},selectAddress(){const e=this;dd.biz.map.locate({onSuccess:function(t){var a=t.province+t.city+t.adName+t.snippet;e.formData.incidentAddress=a},onFail:function(e){alert(JSON.stringify(e))}})},selectTime(){const e=this;dd.showDatePicker({format:"yyyy-MM-dd",value:e.formData.incidentTime}).then(t=>{e.formData.incidentTime=t.value}).catch(e=>{})},selectSex(){const e=this;dd.device.notification.actionSheet({title:"选择性别？",cancelButton:"取消",otherButtons:["男","女"],onSuccess:function(t){-1!==t.buttonIndex&&(e.formData.sex=["男","女"][t.buttonIndex])},onFail:function(e){}})},del(){},cancel(){},save(){},handClick(e){dd.device.notification.confirm({message:"确定上报？",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){e.buttonIndex},onFail:function(e){}})}}},r=n,s=(a("c68b"),a("2877")),c=Object(s["a"])(r,i,o,!1,null,"2741549e",null);t["default"]=c.exports},acc5:function(e,t,a){},c68b:function(e,t,a){"use strict";a("acc5")}}]);