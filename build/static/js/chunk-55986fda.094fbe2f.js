(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55986fda"],{"0964":function(e,t,c){"use strict";c.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"earlywarningClass"},[t("div",{staticClass:"earlywarningClass_header"},[e._v("已选人员")]),e._l(e.checkedList,(function(c,a){return t("div",{key:a,staticClass:"earlywarningClass_line"},[t("van-checkbox",{attrs:{shape:"square","icon-size":"20px"},on:{click:function(t){return e.checkedArr(t,c,a)}},model:{value:c.checked,callback:function(t){e.$set(c,"checked",t)},expression:"item.checked"}},[e._v(" "+e._s(c.name)+" ")]),e._l(c.allMemberList,(function(c,s){return t("van-checkbox",{key:s,staticClass:"earlywarningClass_checkbox",staticStyle:{margin:"1vh 0"},attrs:{shape:"square","icon-size":"20px"},on:{click:function(t){return e.checkedbox(t,c,s,a)}},model:{value:c.checked,callback:function(t){e.$set(c,"checked",t)},expression:"item2.checked"}},[t("span",{staticStyle:{display:"inline-block",width:"45%"}},[e._v(" "+e._s(c.departmentName)+" ")]),t("span",{staticStyle:{display:"inline-block",width:"20%",margin:"0 2%"}},[e._v(" "+e._s(c.teamDuty)+" ")]),t("span",{staticStyle:{display:"inline-block",width:"30%"}},[e._v(" "+e._s(c.userName)+" ")])])}))],2)})),t("div",{staticClass:"earlywarningClass_textarea"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formData.recordContent,expression:"formData.recordContent"}],attrs:{cols:"20",rows:"10",placeholder:"请输入内容"},domProps:{value:e.formData.recordContent},on:{input:function(t){t.target.composing||e.$set(e.formData,"recordContent",t.target.value)}}})]),t("div",{staticStyle:{height:"11vh"}}),t("div",{staticClass:"btn"},[t("span",{on:{click:function(t){return e.submit()}}},[e._v("确定")]),t("span",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])])],2)},s=[],i=(c("14d9"),c("c198")),n={data(){return{type:"",checkedList:[],formData:{recordContent:"",petitionId:"",recordType:"",recipientList:[]}}},created(){const e=this;let t=e.$route.query;e.formData.petitionId=t.petitionId,e.formData.recordType=t.recordType,e.formData.peopleId=t.peopleId,e.type=t.type,e.getDealTeamListByScreenFn()},methods:{checkedArr(e,t,c){const a=this;t.checked&&(a.checkedList[c].allMemberList.map((e,t)=>{e.checked=!0}),a.$forceUpdate()),a.checkedList[c].checked||(a.checkedList[c].allMemberList.map((e,t)=>{e.checked=!1}),a.$forceUpdate())},checkedbox(e,t,c,a){const s=this;if(t.checked)for(var i=0;i<s.checkedList[a].allMemberList.length;i++){if(!s.checkedList[a].allMemberList[i].checked)return s.checkedList[a].checked=!1,void s.$forceUpdate();s.checkedList[a].checked=!0,s.$forceUpdate()}t.checked||(s.checkedList[a].checked=!1,s.$forceUpdate())},submit(){const e=this;let t=[];e.checkedList.map((e,c)=>{e.allMemberList&&e.allMemberList.length&&e.allMemberList.map((e,c)=>{e.checked&&t.push({teamId:e.teamId,userId:e.teamUserId,departId:e.teamDepartId,empAccountId:e.empAccountId})})}),e.formData.recipientList=t,dd.confirm({title:"温馨提示",message:"确定提交？",buttonLabels:["取消","确定"]}).then(async t=>{if(1==t.buttonIndex){let t=await Object(i["n"])(e.formData);t.success&&dd.toast({icon:"success",text:"操作成功"}).then(t=>{1==e.type?e.$router.go(-2):e.$router.go(-1)})}})},async getDealTeamListByScreenFn(){const e=this,t=await Object(i["O"])({id:e.formData.peopleId});t.success&&(e.checkedList=t.data,e.checkedList.map((e,t)=>{e.allMemberList&&e.allMemberList.length&&e.allMemberList.map((t,c)=>{t.checked=e.checked,t.teamId=e.id})}))},cancel(){const e=this;e.$router.go(-1)}}},r=n,d=(c("85dc"),c("2877")),o=Object(d["a"])(r,a,s,!1,null,"7d2d9645",null);t["default"]=o.exports},"85dc":function(e,t,c){"use strict";c("b699")},b699:function(e,t,c){}}]);