(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e59c62c"],{"00ee":function(t,e,a){"use strict";var i=a("b622"),n=i("toStringTag"),r={};r[n]="z",t.exports="[object z]"===String(r)},"04b9":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"multiSelectOdd"},[e("van-popup",{staticStyle:{height:"50%"},attrs:{round:"",position:"bottom"},on:{closed:t.multiSelectOddReturn_},model:{value:t.multiSelect_show,callback:function(e){t.multiSelect_show=e},expression:"multiSelect_show"}},[e("div",{staticClass:"multiSelectOdd_content"},[e("div",{staticClass:"multiSelectOdd_content_div"},[e("p",{staticClass:"multiSelectOdd_content_line0"},[t._v("请选择")]),t._l(t.list,(function(a){return e("p",{key:a.name,staticClass:"multiSelectOdd_content_line",on:{click:function(e){return t.multiSelectOddReturn(a)}}},[t._v(t._s(a.name))])}))],2),e("div",{staticClass:"close"},[e("div",{staticStyle:{height:"10px",background:"#e6e6e6","margin-bottom":"15px"}}),e("div",{on:{click:t.multiSelectOddReturn_}},[t._v("取消")])])])])],1)},n=[],r={props:["multiSelectOddData","name"],data(){return{multiSelect_show:!0,list:this.multiSelectOddData,name:this.name?this.name:"选择所属街道？",multiSelectOddObj:{status:!1,id:"",name:""}}},created(){},mounted(){},methods:{multiSelectOddReturn_(){let t=this;t.$emit("multiSelectOddReturn",{status:!1})},multiSelectOddReturn(t){let e=this;e.multiSelectOddObj.name=t.name,e.multiSelectOddObj.id=t.id,e.$emit("multiSelectOddReturn",e.multiSelectOddObj)}}},o=r,s=(a("67f9"),a("2877")),c=Object(s["a"])(o,i,n,!1,null,"4493de27",null);e["a"]=c.exports},"0599":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reportedAdd_warp multiSelectClass mapClass"},[e("div",{staticClass:"source"},[e("span",[t._v("来源：")]),e("i",[t._v(t._s(t.sourceType))])]),e("div",{staticClass:"form",class:t.edit?"":"unclick"},["9"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.title?"active":""},[t._v("标题")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.title,expression:"formData.title",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入标题"},domProps:{value:t.formData.title},on:{input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),"8"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.title?"active":""},[t._v("舆情名称")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.title,expression:"formData.title",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入舆情名称"},domProps:{value:t.formData.title},on:{input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),"9"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.name?"active":""},[t._v("姓名")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.name,expression:"formData.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入姓名"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),"9"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.sexName?"active":""},[t._v("性别")]),e("input",{attrs:{type:"text",readonly:"",placeholder:"点击选择性别"},domProps:{value:t.formData.sexName},on:{click:t.selectSex}})]):t._e(),"2"===t.type||"3"===t.type||"99"===t.type||"122"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.title?"active":""},[t._v("事件名称")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.title,expression:"formData.title",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入事件名称"},domProps:{value:t.formData.title},on:{input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),"99"==t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.eventType?"active":""},[t._v("警情类型")]),e("div",[e("input",{attrs:{readonly:"",type:"text",placeholder:"点击选择警情类型"},domProps:{value:1==t.formData.eventType?"信访人员异动信息":2==t.formData.eventType?"矛盾纠纷信息":""},on:{click:t.selectEventType}})])]):t._e(),"2"===t.type||"3"===t.type||"8"===t.type||"122"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.eventName&&t.formData.eventName.length?"active":""},[t._v(" 事件类别 ")]),e("div",[e("input",{attrs:{readonly:"",type:"text",placeholder:"点击选择事件类别"},domProps:{value:t.formData.eventName},on:{click:function(e){return t.selectEvent()}}}),t.multiSelectShow?e("multiSelect",{attrs:{multiSelectData:{data:t.eventList,value:t.formData.eventTypes}},on:{multiSelectClose:t.multiSelectComponent}}):t._e()],1)]):t._e(),"122"!=t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.actionName?"active":""},[t._v("现实行为")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.actionName,expression:"formData.actionName"}],attrs:{readonly:"",type:"text",placeholder:"点击选择现实行为"},domProps:{value:t.formData.actionName},on:{click:t.selectBehave,input:function(e){e.target.composing||t.$set(t.formData,"actionName",e.target.value)}}}),t.multiSelectOddShow_action?e("multiSelectOdd",{attrs:{multiSelectOddData:t.actionList},on:{multiSelectOddReturn:t.multiSelectOddReturn_action}}):t._e()],1)]):t._e(),"8"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.seetSource?"active":""},[t._v("舆情来源")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.seetSource,expression:"formData.seetSource",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入舆情来源"},domProps:{value:t.formData.seetSource},on:{input:function(e){e.target.composing||t.$set(t.formData,"seetSource",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]):t._e(),e("div",{staticClass:"item"},[e("p",{class:t.formData.roadName?"active":""},[t._v("所属街道")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.roadName,expression:"formData.roadName"}],attrs:{readonly:"",type:"text",placeholder:"点击选择所属街道"},domProps:{value:t.formData.roadName},on:{click:t.selectStreet,input:function(e){e.target.composing||t.$set(t.formData,"roadName",e.target.value)}}})])]),"2"==t.type||"99"==t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.incidentAddress?"active":""},[t._v("所属地点")]),e("div",{staticClass:"address"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.incidentAddress,expression:"formData.incidentAddress"}],attrs:{type:"text",placeholder:"点击选择所属地点"},domProps:{value:t.formData.incidentAddress},on:{input:function(e){e.target.composing||t.$set(t.formData,"incidentAddress",e.target.value)}}}),e("i",{staticClass:"iconfont icon-location",on:{click:t.selectAddress}})])]):t._e(),"2"===t.type||"3"===t.type||"8"===t.type||"99"===t.type||"122"===t.type?e("div",{staticClass:"item incidentContent"},[e("p",{class:t.formData.incidentContent?"active":""},[t._v(" "+t._s("122"===t.type?"简要概况":"事件描述")+" ")]),e("div",[e("div",[e("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.incidentContent,expression:"formData.incidentContent",modifiers:{trim:!0}},{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"122"===t.type?"在此输入简要概况":"在此输入事件描述"},domProps:{value:t.formData.incidentContent},on:{input:function(e){e.target.composing||t.$set(t.formData,"incidentContent",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],staticClass:"all-content"},[t._v(" "+t._s(t.formData.incidentContent)+" ")])])])]):t._e(),"9"===t.type?e("div",{staticClass:"item incidentContent"},[e("p",{class:t.formData.intro?"active":""},[t._v("简介")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.intro,expression:"formData.intro",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入简介"},domProps:{value:t.formData.intro},on:{input:function(e){e.target.composing||t.$set(t.formData,"intro",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]):t._e(),"2"===t.type||"122"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.incidentTime?"active":""},[t._v("事发时间")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.incidentTime,expression:"formData.incidentTime"}],attrs:{readonly:"",type:"text",placeholder:"事发时间"},domProps:{value:t.formData.incidentTime},on:{click:t.selectTime,input:function(e){e.target.composing||t.$set(t.formData,"incidentTime",e.target.value)}}})])]):t._e(),"99"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.incidentTime?"active":""},[t._v("事发时间")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.incidentTime,expression:"formData.incidentTime"}],attrs:{readonly:"",type:"text",placeholder:"事发时间"},domProps:{value:t.formData.incidentTime},on:{click:t.selectTime,input:function(e){e.target.composing||t.$set(t.formData,"incidentTime",e.target.value)}}})])]):t._e(),"2"==t.type||"99"==t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.joinNum?"active":""},[t._v("涉及人数")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.formData.joinNum,expression:"formData.joinNum",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"涉及人数"},domProps:{value:t.formData.joinNum},on:{input:function(e){e.target.composing||t.$set(t.formData,"joinNum",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]):t._e(),"8"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.link?"active":""},[t._v("网络连接")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.link,expression:"formData.link",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入网络连接"},domProps:{value:t.formData.link},on:{input:function(e){e.target.composing||t.$set(t.formData,"link",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]):t._e(),"8"===t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.involveWeb?"active":""},[t._v("涉及网站")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.involveWeb,expression:"formData.involveWeb",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入涉及网站"},domProps:{value:t.formData.involveWeb},on:{input:function(e){e.target.composing||t.$set(t.formData,"involveWeb",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]):t._e(),"122"==t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.handDetail?"active":""},[t._v("处置意见")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.handDetail,expression:"formData.handDetail",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此输入处置意见"},domProps:{value:t.formData.handDetail},on:{input:function(e){e.target.composing||t.$set(t.formData,"handDetail",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]):t._e(),"122"==t.type?e("div",{staticClass:"item"},[e("p",{class:t.formData.hiddenDanger?"active":""},[t._v("是否隐患")]),t._m(0)]):t._e(),"122"==t.type||"99"==t.type&&1==t.formData.eventType?e("div",{staticClass:"xc"},t._l(t.formData.eventLeader,(function(a,i){return e("div",{key:i,staticClass:"xc_main"},[e("div",{staticClass:"xc_question"},[e("div",{staticStyle:{"font-size":"17px"}},[t._v("人员"+t._s(i+1))]),e("div",[e("span",{staticClass:"xc_subtract",on:{click:function(e){return t.SubtractAdd("subtract",a,i)}}},[t._v("-")]),t.formData.eventLeader.length==i+1?e("span",{staticClass:"xc_add",on:{click:function(e){return t.SubtractAdd("add",a,i)}}},[t._v("+")]):t._e()])]),e("div",{staticClass:"item"},[e("p",{class:a.name?"active":""},[t._v("重点人姓名")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"item.name"}],attrs:{type:"text",placeholder:"请输入重点人姓名"},domProps:{value:a.name},on:{input:function(e){e.target.composing||t.$set(a,"name",e.target.value)}}})])]),e("div",{staticClass:"item"},[e("p",{class:a.cardId?"active":""},[t._v("身份证号")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.cardId,expression:"item.cardId"}],attrs:{type:"text",placeholder:"请输入身份证号"},domProps:{value:a.cardId},on:{input:function(e){e.target.composing||t.$set(a,"cardId",e.target.value)}}})])])])})),0):t._e()]),e("div",[e("van-dialog",{attrs:{width:"90%","show-confirm-button":!1},model:{value:t.mapStatus,callback:function(e){t.mapStatus=e},expression:"mapStatus"}},[e("mapComponents",{on:{map_return:t.map_return}})],1)],1),e("div",[t.multiSelectOddShow?e("multiSelectOdd",{attrs:{multiSelectOddData:t.streetList},on:{multiSelectOddReturn:t.multiSelectOddReturn}}):t._e()],1),e("div",{staticClass:"endHolder"}),1==t.authority?e("div",{staticClass:"btn"},[t.id?t._e():e("span",{on:{click:function(e){return t.handClick(1)}}},[t._v("上报")]),e("i",{directives:[{name:"show",rawName:"v-show",value:!t.edit&&t.id,expression:"!edit && id"}],on:{click:function(e){return t.del()}}},[t._v("删除")]),e("b",{directives:[{name:"show",rawName:"v-show",value:!t.edit&&t.id,expression:"!edit && id"}],on:{click:function(e){t.edit=!0}}},[t._v("编辑")]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.edit&&t.id,expression:"edit && id"}],on:{click:t.cancel}},[t._v("取消")]),e("b",{directives:[{name:"show",rawName:"v-show",value:t.edit&&t.id,expression:"edit && id"}],on:{click:t.save}},[t._v("保存")])]):t._e()])},n=[function(){var t=this,e=t._self._c;return e("div",[e("input",{attrs:{type:"text",readonly:"",value:"是",placeholder:"在此输入是否隐患"}})])}],r=(a("14d9"),a("d9e2"),a("6e53")),o=a("ccb6"),s=a("04b9"),c=a("c198"),l=(a("b893"),{name:"reportedAdd",components:{multiSelect:r["a"],mapComponents:o["a"],multiSelectOdd:s["a"]},data(){return{multiSelectOddShow:!1,multiSelectOddShow_action:!1,mapStatus:!1,authority:1,multiSelectShow:!1,sourceType:"",typeList:[],type:this.$route.query.type||"",id:this.$route.query.id,index:[],edit:!0,formData:{title:"",name:"",eventName:[],eventTypes:"",actionName:"",actionType:"",roadName:"",roadId:"",incidentAddress:"",incidentContent:"",intro:"",sex:"",incidentTime:"",joinNum:"",seetSource:"",sourceType:"",link:"",involveWeb:"",earlyWarningName:"",handDetail:"",hiddenDanger:"",eventLeader:[{name:"",cardId:""}],eventType:""},roadXY:{1:{y:40.45323,x:116.00169},2:{y:27.97642,x:120.67887},3:{y:27.91188,x:120.6826},4:{y:27.92924,x:120.6808},5:{y:27.95435,x:120.62727},6:{y:27.98281,x:120.59619},7:{y:27.9486,x:120.69722},8:{y:27.98681,x:120.53914},9:{y:27.96574,x:120.57076},10:{y:27.99762,x:120.5709},11:{y:27.916,x:120.64534},12:{y:27.88043,x:120.64462},13:{y:28.03338,x:120.38744}}}},computed:{streetList(){return this.$store.state.common.streetList},streetOption(){return this.$store.state.common.streetList.map(t=>t.name)},actionList(){return this.$store.state.common.actionList},actionOption(){return this.$store.state.common.actionList.map(t=>t.name)},eventList(){return this.$store.state.common.eventList},eventOption(){return this.$store.state.common.eventList.map(t=>t.name)}},created(){let t=this;dd.disablePullToRefresh(),t.formData.sourceType=t.type/1,"122"===t.type&&(Object(c["r"])({name:"rawData:policeInformation"}).then(e=>{e.success&&e.data?t.authority=1:t.authority=0}),t.formData.hiddenDanger=1),"99"===t.type&&(t.formData.isType=1),t.id&&(document.title="事件详情",t.edit=!1,t.formData.id=t.id,t.getDetail()),t.typeList=["","","维稳信息员","110报警"],t.typeList[9]="综合帮扶",t.typeList[8]="舆情",t.typeList[99]="公安警情",t.typeList[122]="重点信访异动信息",t.sourceType=t.typeList[t.type]},methods:{selectEventType(){const t=this;dd.device.notification.actionSheet({title:"选择事件类型？",cancelButton:"取消",otherButtons:["信访人员异动信息","矛盾纠纷信息"],onSuccess:function(e){-1!==e.buttonIndex&&(0==e.buttonIndex?(t.formData.eventLeader=[{name:"",cardId:""}],t.formData.eventType=1):(t.formData.eventLeader=[],t.formData.eventType=2))},onFail:function(t){}})},SubtractAdd(t,e,a){let i=this,n={name:"",cardId:""};"add"==t?i.formData.eventLeader.push(n):i.formData.eventLeader.length>1&&i.formData.eventLeader.splice(a,1)},map_return(t){let e=this;e.mapStatus=t.status,1==t.v&&(e.formData.incidentAddress=t.address,e.formData.x=t.x,e.formData.y=t.y)},alertFn(t){return alert(JSON.stringify(t))},async getDetail(){const t=await Object(c["X"])({id:this.id});if(t.success){this.formData=t.data;const e=this.actionList.find(t=>t.id===this.formData.actionType);this.formData.actionName=e&&e.name,2===t.data.sourceType&&1===t.data.isType?this.type="99":this.type=t.data.sourceType+"",this.formData.sexName=1==this.formData.sex?"男":"女",this.sourceType=this.typeList[this.type]}},multiSelectComponent(t){let e=this;e.formData.eventTypes=t.data.length>0?t.data.join(","):"",e.multiSelectShow=t.status;let a=[];e.eventList.length>0&&t.data.length>0&&e.eventList.map((e,i)=>{t.data.map((t,i)=>{e.id==t&&a.push(e.name)})}),e.formData.eventName=a},selectEvent(){const t=this;t.formData.eventTypes=t.formData.eventTypes?t.formData.eventTypes.split(",").map(Number):[],setTimeout(()=>{t.multiSelectShow=!0},100)},multiSelectOddReturn_action(t){let e=this;e.multiSelectOddShow_action=t.status,t.id&&(e.formData.actionType=t.id,e.formData.actionName=t.name)},selectBehave(){const t=this;t.multiSelectOddShow_action=!0},multiSelectOddReturn(t){let e=this;e.multiSelectOddShow=t.status,t.id&&(e.formData.roadId=t.id,e.formData.roadName=t.name)},selectStreet(){const t=this;t.multiSelectOddShow=!0},selectAddress(){const t=this;t.mapStatus=!0},selectTime(){const t=this;dd.showDatePicker({format:"yyyy-MM-dd",value:t.formData.incidentTime}).then(e=>{t.formData.incidentTime=e.value}).catch(t=>{})},selectSex(){const t=this;dd.device.notification.actionSheet({title:"选择性别？",cancelButton:"取消",otherButtons:["男","女"],onSuccess:function(e){-1!==e.buttonIndex&&(t.formData.sex=e.buttonIndex+1,t.formData.sexName=["男","女"][e.buttonIndex],t.$forceUpdate())},onFail:function(t){}})},del(){const t=this;dd.device.notification.confirm({message:"您是否确定删除此事件?",title:"提示",buttonLabels:["取消","确定"],onSuccess(e){1===e.buttonIndex&&dd.device.notification.showPreloader({text:"删除中..",showIcon:!0,async onSuccess(e){let a={id:t.id,status:0};122==t.type&&(a.sourceType=t.type);const i=await Object(c["ec"])(a);dd.device.notification.hidePreloader({onSuccess:function(t){},onFail:function(t){}}),i.success?dd.alert({message:i.message?i.message:"操作成功",title:"提示",button:"收到"}).then(e=>{t.$router.replace("/reported")}).catch(t=>{}):alert(JSON.stringify(i.message?i.message:"失败"))},onFail:function(t){}})},onFail:function(t){}})},cancel(){this.edit=!1,this.getDetail()},save(){const t=this;dd.device.notification.confirm({message:"您是否确定保存此次事件修改?",title:"提示",buttonLabels:["取消","确定"],onSuccess:function(e){1===e.buttonIndex&&dd.device.notification.showPreloader({text:"修改中..",showIcon:!0,async onSuccess(e){const a=await Object(c["g"])(t.formData);dd.device.notification.hidePreloader({onSuccess:function(t){},onFail:function(t){}}),a.success&&dd.alert({message:a.message?a.message:"操作成功",title:"提示",button:"收到"}).then(e=>{t.$router.replace("/reported")}).catch(t=>{})},onFail:function(t){}})},onFail:function(t){}})},handClick(t){let e=this;"2"===e.type&&e.checkForm([["title","事件名称"],["eventTypes","事件类别"],["actionType","现实行为"],["roadId","所属街道"],["incidentAddress","所属地点"],["incidentContent","事件描述"],["incidentTime","事发时间"],["joinNum","涉及人数"]]),"3"===e.type&&e.checkForm([["title","事件名称"],["eventTypes","事件类别"],["actionType","现实行为"],["roadId","所属街道"],["incidentContent","事件描述"]]),"9"===e.type&&e.checkForm([["title","标题"],["name","姓名"],["sex","性别"],["roadId","所属街道"],["actionType","现实行为"],["intro","简介"]]),"8"===e.type&&e.checkForm([["title","舆情名称"],["eventTypes","事件类别"],["roadId","所属街道"],["actionType","现实行为"],["seetSource","舆情来源"],["incidentContent","事件描述"],["link","网络连接"],["involveWeb","涉及网站"]]),"99"===e.type&&(e.checkForm([["title","事件名称"],["eventType","警情类型"],["roadId","所属街道"],["actionType","现实行为"],["incidentContent","事件描述"],["incidentTime","上报时间"]]),1==e.formData.eventType&&e.arrverification(e.formData.eventLeader)),"122"===e.type&&(e.checkForm([["title","事件名称"],["eventTypes","事件类别"],["incidentContent","简要概况"],["roadId","所属街道"],["incidentTime","事发时间"],["handDetail","处置意见"]]),e.arrverification(e.formData.eventLeader)),e.formData.actionType&&5!=e.formData.actionType&&(e.formData.earlyWarningLevel=1),e.formData.eventName.length>=3&&(e.formData.earlyWarningLevel=1),!e.formData.x&&e.formData.roadId&&(e.formData.x=e.roadXY[e.formData.roadId].x,e.formData.y=e.roadXY[e.formData.roadId].y),dd.device.notification.confirm({message:"确定上报？",title:"提示",buttonLabels:["取消","确定"],async onSuccess(t){t.buttonIndex&&dd.device.notification.showPreloader({text:"上报中..",showIcon:!0,async onSuccess(t){const a=await Object(c["g"])(e.formData);dd.device.notification.hidePreloader({onSuccess:function(t){},onFail:function(t){}}),a.success?dd.alert({message:a.message?a.message:"操作成功",title:"提示",button:"收到"}).then(t=>{e.$router.replace("/reported")}).catch(t=>{}):alert(JSON.stringify(a.message?a.message:"失败"))},onFail:function(t){}})},onFail:function(t){alert(JSON.stringify(t))}})},arrverification(t){let e=this,a=0;if(t.map((t,e)=>{""!=t.name&&""!=t.cardId||(a+=1)}),a>0)throw e.alert("人员信息不能为空"),new Error("121")},checkForm(t){t.forEach(t=>{if(!(this.formData[t[0]]+""))throw this.alert("请完成"+t[1]),new Error("121")})},alert(t){dd.device.notification.alert({message:t,title:"提示",buttonName:"确定"})}}}),d=l,u=(a("bc3b"),a("2877")),m=Object(u["a"])(d,i,n,!1,null,"653df9d2",null);e["default"]=m.exports},"0d26":function(t,e,a){"use strict";var i=a("e330"),n=Error,r=i("".replace),o=function(t){return String(new n(t).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(o);t.exports=function(t,e){if(c&&"string"==typeof t&&!n.prepareStackTrace)while(e--)t=r(t,s,"");return t}},"2ba4":function(t,e,a){"use strict";var i=a("40d5"),n=Function.prototype,r=n.apply,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},"2e6f":function(t,e,a){},"3bbe":function(t,e,a){"use strict";var i=a("1626"),n=String,r=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw new r("Can't set "+n(t)+" as a prototype")}},"577e":function(t,e,a){"use strict";var i=a("f5df"),n=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},"5d2a":function(t,e,a){"use strict";a("2e6f")},"67f9":function(t,e,a){"use strict";a("f9eb")},"6e53":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"multiSelect"},[e("van-popup",{staticStyle:{height:"50%"},attrs:{closeable:"",round:"",position:"bottom"},on:{closed:t.multiSelectClose},model:{value:t.multiSelect_show,callback:function(e){t.multiSelect_show=e},expression:"multiSelect_show"}},[e("van-checkbox-group",{attrs:{"icon-size":"20px"},model:{value:t.multiSelect_value,callback:function(e){t.multiSelect_value=e},expression:"multiSelect_value"}},t._l(t.multiSelect_Data,(function(a){return e("van-checkbox",{key:a.id,attrs:{name:a.id}},[t._v(t._s(a.name))])})),1)],1)],1)},n=[],r=(a("14d9"),{props:["multiSelectData"],data(){return{multiSelect_show:!0,multiSelect_Data:this.multiSelectData.data.length>0?this.multiSelectData.data:[],multiSelect_value:this.multiSelectData.value}},created(){},mounted(){},methods:{multiSelectClose(){let t=this,e=[];t.multiSelect_Data&&t.multiSelect_Data.length>0&&t.multiSelect_value&&t.multiSelect_value.length>0&&t.multiSelect_Data.map((a,i)=>{t.multiSelect_value.map((t,i)=>{a.id==t&&e.push(a.name)})}),t.$emit("multiSelectClose",{data:t.multiSelect_value,status:!1,nameArr:e})}}}),o=r,s=a("2877"),c=Object(s["a"])(o,i,n,!1,null,"7855c86c",null);e["a"]=c.exports},"6f19":function(t,e,a){"use strict";var i=a("9112"),n=a("0d26"),r=a("b980"),o=Error.captureStackTrace;t.exports=function(t,e,a,s){r&&(o?o(t,e):i(t,"stack",n(a,s)))}},7156:function(t,e,a){"use strict";var i=a("1626"),n=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var o,s;return r&&i(o=e.constructor)&&o!==a&&n(s=o.prototype)&&s!==a.prototype&&r(t,s),t}},"71c8":function(t,e,a){},7282:function(t,e,a){"use strict";var i=a("e330"),n=a("59ed");t.exports=function(t,e,a){try{return i(n(Object.getOwnPropertyDescriptor(t,e)[a]))}catch(r){}}},ab36:function(t,e,a){"use strict";var i=a("861d"),n=a("9112");t.exports=function(t,e){i(e)&&"cause"in e&&n(t,"cause",e.cause)}},aeb0:function(t,e,a){"use strict";var i=a("9bf2").f;t.exports=function(t,e,a){a in t||i(t,a,{configurable:!0,get:function(){return e[a]},set:function(t){e[a]=t}})}},b893:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));const i={PI:3.141592653589793,x_pi:52.35987755982988,delta:function(t,e){var a=6378245,i=.006693421622965943,n=this.transformLat(e-105,t-35),r=this.transformLon(e-105,t-35),o=t/180*this.PI,s=Math.sin(o);s=1-i*s*s;var c=Math.sqrt(s);return n=180*n/(a*(1-i)/(s*c)*this.PI),r=180*r/(a/c*Math.cos(o)*this.PI),{lat:n,lon:r}},gcj_encrypt:function(t,e){if(this.outOfChina(t,e))return{lat:t,lon:e};var a=this.delta(t,e);return{lat:t+a.lat,lon:e+a.lon}},gcj_decrypt:function(t,e){if(this.outOfChina(t,e))return{lat:t,lon:e};var a=this.delta(t,e);return{lat:t-a.lat,lon:e-a.lon}},gcj_decrypt_exact:function(t,e){var a,i,n=.01,r=1e-9,o=n,s=n,c=t-o,l=e-s,d=t+o,u=e+s,m=0;while(1){a=(c+d)/2,i=(l+u)/2;var p=this.gcj_encrypt(a,i);if(o=p.lat-t,s=p.lon-e,Math.abs(o)<r&&Math.abs(s)<r)break;if(o>0?d=a:c=a,s>0?u=i:l=i,++m>1e4)break}return{lat:a,lon:i}},bd_encrypt:function(t,e){var a=e,i=t,n=Math.sqrt(a*a+i*i)+2e-5*Math.sin(i*this.x_pi),r=Math.atan2(i,a)+3e-6*Math.cos(a*this.x_pi);return bdLon=n*Math.cos(r)+.0065,bdLat=n*Math.sin(r)+.006,{lat:bdLat,lon:bdLon}},bd_decrypt:function(t,e){var a=e-.0065,i=t-.006,n=Math.sqrt(a*a+i*i)-2e-5*Math.sin(i*this.x_pi),r=Math.atan2(i,a)-3e-6*Math.cos(a*this.x_pi),o=n*Math.cos(r),s=n*Math.sin(r);return{lat:s,lon:o}},mercator_encrypt:function(t,e){var a=20037508.34*e/180,i=Math.log(Math.tan((90+t)*this.PI/360))/(this.PI/180);return i=20037508.34*i/180,{lat:i,lon:a}},mercator_decrypt:function(t,e){var a=e/20037508.34*180,i=t/20037508.34*180;return i=180/this.PI*(2*Math.atan(Math.exp(i*this.PI/180))-this.PI/2),{lat:i,lon:a}},distance:function(t,e,a,i){var n=6371e3,r=Math.cos(t*this.PI/180)*Math.cos(a*this.PI/180)*Math.cos((e-i)*this.PI/180),o=Math.sin(t*this.PI/180)*Math.sin(a*this.PI/180),s=r+o;s>1&&(s=1),s<-1&&(s=-1);var c=Math.acos(s),l=c*n;return l},outOfChina:function(t,e){return e<72.004||e>137.8347||(t<.8293||t>55.8271)},transformLat:function(t,e){var a=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return a+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,a+=2*(20*Math.sin(e*this.PI)+40*Math.sin(e/3*this.PI))/3,a+=2*(160*Math.sin(e/12*this.PI)+320*Math.sin(e*this.PI/30))/3,a},transformLon:function(t,e){var a=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return a+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,a+=2*(20*Math.sin(t*this.PI)+40*Math.sin(t/3*this.PI))/3,a+=2*(150*Math.sin(t/12*this.PI)+300*Math.sin(t/30*this.PI))/3,a}}},b980:function(t,e,a){"use strict";var i=a("d039"),n=a("5c6c");t.exports=!i((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",n(1,7)),7!==t.stack)}))},bc3b:function(t,e,a){"use strict";a("71c8")},ccb6:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mapC",staticStyle:{height:"100%"}},[e("iframe",{attrs:{id:"mapPage",width:"100%",height:"100%",frameborder:"0",src:"https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=ZZDBZ-7KQ36-S5ESB-MIUYS-AHQAO-ZGFOQ&referer=myapp"}}),e("div",{staticClass:"map_footer"},[e("div",{on:{click:function(e){return t.map_return(0)}}},[t._v("取消")]),e("div",{on:{click:function(e){return t.map_return(1)}}},[t._v("确定")])])])},n=[],r=a("b893"),o={props:[],data(){return{mapData:{v:0,address:"",x:"",y:"",status:!1}}},created(){this.mapCreated()},mounted(){},methods:{map_return(t){let e=this;e.mapData.v=t,setTimeout(()=>{e.$emit("map_return",e.mapData)},500)},mapCreated(){let t=this;window.addEventListener("message",(function(e){var a=e.data;if(a&&"locationPicker"==a.module){t.mapData.address=a.poiaddress,"我的位置"==a.poiname&&(t.mapData.address="当前位置");var i=r["a"].gcj_decrypt(a.latlng.lat,a.latlng.lng);t.mapData.x=i.lon,t.mapData.y=i.lat}}))}}},s=o,c=(a("5d2a"),a("2877")),l=Object(c["a"])(s,i,n,!1,null,"8b92f470",null);e["a"]=l.exports},d2bb:function(t,e,a){"use strict";var i=a("7282"),n=a("825a"),r=a("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,a={};try{t=i(Object.prototype,"__proto__","set"),t(a,[]),e=a instanceof Array}catch(o){}return function(a,i){return n(a),r(i),e?t(a,i):a.__proto__=i,a}}():void 0)},d9e2:function(t,e,a){"use strict";var i=a("23e7"),n=a("da84"),r=a("2ba4"),o=a("e5cb"),s="WebAssembly",c=n[s],l=7!==new Error("e",{cause:7}).cause,d=function(t,e){var a={};a[t]=o(t,e,l),i({global:!0,constructor:!0,arity:1,forced:l},a)},u=function(t,e){if(c&&c[t]){var a={};a[t]=o(s+"."+t,e,l),i({target:s,stat:!0,constructor:!0,arity:1,forced:l},a)}};d("Error",(function(t){return function(e){return r(t,this,arguments)}})),d("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),d("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),d("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),d("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),d("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),d("URIError",(function(t){return function(e){return r(t,this,arguments)}})),u("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),u("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),u("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},e391:function(t,e,a){"use strict";var i=a("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},e5cb:function(t,e,a){"use strict";var i=a("d066"),n=a("1a2d"),r=a("9112"),o=a("3a9b"),s=a("d2bb"),c=a("e893"),l=a("aeb0"),d=a("7156"),u=a("e391"),m=a("ab36"),p=a("6f19"),f=a("83ab"),v=a("c430");t.exports=function(t,e,a,h){var y="stackTraceLimit",D=h?2:1,_=t.split("."),S=_[_.length-1],b=i.apply(null,_);if(b){var g=b.prototype;if(!v&&n(g,"cause")&&delete g.cause,!a)return b;var x=i("Error"),w=e((function(t,e){var a=u(h?e:t,void 0),i=h?new b(t):new b;return void 0!==a&&r(i,"message",a),p(i,w,i.stack,2),this&&o(g,this)&&d(i,this,w),arguments.length>D&&m(i,arguments[D]),i}));if(w.prototype=g,"Error"!==S?s?s(w,x):c(w,x,{name:!0}):f&&y in b&&(l(w,b,y),l(w,b,"prepareStackTrace")),c(w,b),!v)try{g.name!==S&&r(g,"name",S),g.constructor=w}catch(C){}return w}}},f5df:function(t,e,a){"use strict";var i=a("00ee"),n=a("1626"),r=a("c6b6"),o=a("b622"),s=o("toStringTag"),c=Object,l="Arguments"===r(function(){return arguments}()),d=function(t,e){try{return t[e]}catch(a){}};t.exports=i?r:function(t){var e,a,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=d(e=c(t),s))?a:l?r(e):"Object"===(i=r(e))&&n(e.callee)?"Arguments":i}},f9eb:function(t,e,a){}}]);